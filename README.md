# ğŸŒ IRIS (Intelligent Research Insight System)

> **IRIS** æ˜¯ä¸€ä¸ªåŸºäº **Agentic Workflowï¼ˆæ™ºèƒ½ä½“å·¥ä½œæµï¼‰** çš„è‡ªåŠ¨åŒ–æ·±åº¦è°ƒç ”ä¸æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿã€‚å®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿå•å‘ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„çº¿æ€§é—®ç­”æ¨¡å¼ï¼Œé€šè¿‡æ„å»ºå¤šèŠ‚ç‚¹çŠ¶æ€æœºï¼ˆState Machineï¼‰ï¼Œå®ç°äº†ä»**æ„å›¾è¯†åˆ«ã€è·¯å¾„è§„åˆ’ã€åŠ¨æ€æ£€ç´¢ï¼ˆæ··åˆ/æœ¬åœ°ï¼‰ã€æ·±åº¦æ’°å†™åˆ°è‡ªæˆ‘å®¡æŸ¥ä¸å±€éƒ¨å¾®è°ƒ**çš„å…¨è‡ªåŠ¨é—­ç¯ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§ (Key Features)

* ğŸ§  **Agentic å·¥ä½œæµå¼•æ“ (Powered by LangGraph)**
  * é‡‡ç”¨å›¾ç»“æ„ï¼ˆGraph-basedï¼‰æ›¿ä»£ä¼ ç»Ÿçš„é“¾å¼ï¼ˆLCELï¼‰è°ƒç”¨ï¼Œæ”¯æŒå¤æ‚çš„æ¡ä»¶åˆ†æ”¯ä¸å¾ªç¯æµè½¬ã€‚
  * å†…ç½® **Routerï¼ˆè·¯ç”±åˆ†é…ï¼‰**, **Plannerï¼ˆè§„åˆ’ä¸“å®¶ï¼‰**, **Researcherï¼ˆæ£€ç´¢ä¸“å®¶ï¼‰**, **Writerï¼ˆä¸»ç¬”ï¼‰**, **Reviewerï¼ˆå®¡æŸ¥å‘˜ï¼‰** ä¸ **Refinerï¼ˆä¿®è®¢å‘˜ï¼‰** ç­‰å¼‚æ„èŠ‚ç‚¹ååŒå·¥ä½œã€‚

* ğŸ›¡ï¸ **é˜²å¹»è§‰ä¸åŠ¨æ€è·¯ç”± (Relevance Grader)**
  * è§£å†³ä¼ ç»Ÿ RAG çš„â€œå¼ºè¡Œå›ç­”/å¹»è§‰â€ç—›ç‚¹ã€‚åœ¨æœ¬åœ°æ–‡æ¡£æ£€ç´¢åï¼Œç”±è½»é‡çº§è£åˆ¤èŠ‚ç‚¹ï¼ˆGrader LLMï¼‰å®æ—¶è¯„ä¼°æ–‡æ¡£ä¸é—®é¢˜çš„ç›¸å…³æ€§ã€‚
  * è‹¥å‘ç°ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£ä¸é—®é¢˜æ— å…³ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§¦å‘**ç†”æ–­æœºåˆ¶**ï¼ˆåœ¨çº¯æ–‡æ¡£æ¨¡å¼ä¸‹ç»ˆæ­¢å¹¶è­¦å‘Šï¼‰æˆ–**æ™ºèƒ½é™çº§**ï¼ˆåœ¨æ··åˆæ¨¡å¼ä¸‹è‡ªåŠ¨åˆ‡æ¢è‡³å…¨ç½‘æœç´¢ï¼‰ã€‚

* ğŸ”„ **ä¼šè¯çº§è®°å¿†ä¸æ–­ç‚¹ç»­è·‘ (Session-Level Persistence)**
  * å¼•å…¥ `AsyncSqliteSaver` (SQLite Checkpoint æœºåˆ¶) å®ç°å•æ¬¡ä¼šè¯çº§æŒä¹…åŒ–ã€‚
  * é…åˆå‰ç½®**æ„å›¾è¯†åˆ«èŠ‚ç‚¹ (Intent Router)**ï¼Œç³»ç»Ÿèƒ½ç²¾å‡†åŒºåˆ†â€œå¼€å¯å…¨æ–°ç ”ç©¶è¯¾é¢˜â€ä¸â€œé’ˆå¯¹ç°æœ‰æŠ¥å‘Šä¸‹è¾¾ä¿®æ”¹æŒ‡ä»¤â€ï¼ˆå¦‚ï¼šâ€œæŠŠç¬¬ä¸€ç« æ‰©å†™å¾—æ›´é€šä¿—â€ï¼‰ï¼Œå®ç°è·¨è½®æ¬¡çš„æ–­ç‚¹ç»­å†™ä¸å±€éƒ¨å¾®è°ƒã€‚æ¯æ¬¡åˆ·æ–°é¡µé¢å³å¼€å¯æ— ç—•æ–°ä¼šè¯ã€‚

* âš¡ **å…¨å¼‚æ­¥æ¶æ„ä¸æµå¼ä¼ è¾“ (Asynchronous & SSE)**
  * åç«¯åŸºäº **FastAPI** é‡‡ç”¨å…¨å¼‚æ­¥ (`async/await`) æ¶æ„ï¼Œæ— é˜»å¡å¤„ç† LLM èŠ‚ç‚¹è°ƒåº¦ä¸ SQLite å¹¶å‘è¯»å†™ã€‚
  * é‡‡ç”¨ **Server-Sent Events (SSE)** æŠ€æœ¯ï¼Œå°† Agent çš„å†…éƒ¨çŠ¶æ€æµè½¬ä¸æœ€ç»ˆæŠ¥å‘Šçš„æ‰“å­—æœºæ•ˆæœï¼ˆTypewriterï¼‰ä½å»¶è¿Ÿæ¨é€åˆ°å‰ç«¯ã€‚

* ğŸ¨ **ç°ä»£åŒ–äº¤äº’ä½“éªŒ (Modern UI/UX)**
  * å‰ç«¯é‡‡ç”¨ **Vue 3 + Tailwind CSS** æ„å»ºï¼ŒåŒ…å«ä»¿ iOS Siri é£æ ¼çš„â€œå‘¼å¸ç¯â€æ€è€ƒåŠ¨æ•ˆã€‚
  * æ·±åº¦æ•´åˆ `markdown-it` ä¸ KaTeXï¼Œé€šè¿‡åº•å±‚æ­£åˆ™é¢„å¤„ç†æ”»å…‹äº†è·¨å¤§æ¨¡å‹ LaTeX å®šç•Œç¬¦ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå®Œç¾æ¸²æŸ“é«˜éš¾åº¦æ•°å­¦å…¬å¼ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾ (Architecture)

User Input
    â†“
Intent Router
    â”œâ”€â”€ NEW_TOPIC â†’ Task Planner
    â””â”€â”€ REFINE    â†’ Content Refiner â†’ Final Output

Task Planner
    â†“
Deep Researcher
    â†“
Relevance Grader (Document Check)
    â”œâ”€â”€ Doc Only & Not Relevant
    â”‚       â†’ Stop & Warn User
    â”‚
    â”œâ”€â”€ Hybrid Mode & Not Relevant
    â”‚       â†’ Web Search
    â”‚       â†’ Content Writer
    â”‚
    â””â”€â”€ Relevant
            â†’ Content Writer
                    â†“
            Quality Reviewer
                    â”œâ”€â”€ FAIL â†’ Back to Planner (Self-Correction Loop)
                    â””â”€â”€ PASS â†’ Final Output

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

### Backend (åç«¯é€»è¾‘ä¸æ™ºèƒ½ä½“)
* **API æ¡†æ¶**: Python 3.10+, FastAPI
* **Agent æ¶æ„**: LangChain, LangGraph
* **å‘é‡æ£€ç´¢**: ChromaDB (æœ¬åœ°çŸ¥è¯†åº“ RAG)
* **æŒä¹…åŒ–å­˜å‚¨**: SQLite (`aiosqlite` å¼‚æ­¥é©±åŠ¨æ”¯æŒ Checkpointing)
* **æ ¸å¿ƒ LLM**: OpenAI API (GPT-4o, GPT-4o-mini)
* **ç½‘ç»œæœç´¢**: Tavily Search API

### Frontend (å‰ç«¯äº¤äº’)
* **æ ¸å¿ƒæ¡†æ¶**: Vue 3 (Composition API)
* **UI æ ·å¼**: Tailwind CSS, @tailwindcss/typography
* **å†…å®¹æ¸²æŸ“**: `markdown-it`, `markdown-it-katex`

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Getting Started)

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ttguy0707/IRIS.git
cd IRIS
```

### 2. åç«¯æœåŠ¡é…ç½® (Backend Setup)
```bash
cd backend

# 1. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (å¼ºçƒˆæ¨è)
python -m venv venv
# Windows: venv\Scripts\activate
# Mac/Linux: source venv/bin/activate

# 2. å®‰è£…æ ¸å¿ƒä¾èµ–
pip install -r requirements.txt

# 3. é…ç½®ç¯å¢ƒå˜é‡
# è¯·åœ¨ backend ç›®å½•ä¸‹æ–°å»º .env æ–‡ä»¶å¹¶å¡«å…¥ä½ çš„ API Keys:
# OPENAI_API_KEY=sk-...
# TAVILY_API_KEY=tvly-...

# 4. å¯åŠ¨ FastAPI æœåŠ¡
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```
*(æœåŠ¡å¯åŠ¨åï¼ŒSwagger API è°ƒè¯•æ–‡æ¡£å¯é€šè¿‡ `http://localhost:8000/docs` è®¿é—®)*

### 3. å‰ç«¯æœåŠ¡é…ç½® (Frontend Setup)
```bash
cd ../frontend

# 1. å®‰è£… Node.js ä¾èµ–
npm install

# 2. å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨
npm run dev
```
*(æ‰“å¼€æµè§ˆå™¨è®¿é—®ç»ˆç«¯ä¸­æç¤ºçš„ `http://localhost:5173` å³å¯å¼€å§‹ä½¿ç”¨)*

---

## ğŸ“‚ æ ¸å¿ƒç›®å½•ç»“æ„ (Project Structure)

```text
IRIS/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/          # FastAPI è·¯ç”±ä¸ä¸­é—´ä»¶ (SSE æµå¼åˆ†å‘, ç»å¯¹è·¯å¾„æŒ‚è½½ SQLite)
â”‚   â”‚   â”œâ”€â”€ graph/        # LangGraph æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ nodes/    # æ™ºèƒ½ä½“èŠ‚ç‚¹ (Planner, Researcher, Writer, Router, Refiner, Reviewer)
â”‚   â”‚   â”‚   â”œâ”€â”€ state.py  # çŠ¶æ€æœºå­—å…¸å®šä¹‰ (AgentState)
â”‚   â”‚   â”‚   â””â”€â”€ graph.py  # çŠ¶æ€æœºæ‹“æ‰‘æ„å»ºä¸æ¡ä»¶è¾¹è¿çº¿
â”‚   â”‚   â”œâ”€â”€ rag/          # æ–‡æ¡£è§£æã€å‘é‡åŒ–ä¸æ£€ç´¢å¼•æ“ (ChromaDB)
â”‚   â”‚   â””â”€â”€ tools/        # å¤–éƒ¨æ‰©å±•å·¥å…· (Tavily)
â”‚   â”œâ”€â”€ main.py           # åç«¯å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ requirements.txt  # Python ä¾èµ–æ¸…å•
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/   # Vue ç»„ä»¶ (çŠ¶æ€æµè½¬ç»„ä»¶ã€å¼¹çª—ç­‰)
â”‚   â”‚   â”œâ”€â”€ services/     # API è¯·æ±‚å°è£…ä¸ UUID ä¼šè¯ç®¡ç†
â”‚   â”‚   â””â”€â”€ App.vue       # ä¸»é¡µé¢é€»è¾‘ä¸ UI å¸ƒå±€
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md
```

---

## ğŸ’¡ ç ”å‘å¿ƒå¾— (Developer Notes)

åœ¨æ„å»º IRIS çš„è¿‡ç¨‹ä¸­ï¼Œæœ€å¤§çš„æŒ‘æˆ˜æ¥è‡ªäº**å¦‚ä½•æ‰“ç ´ä¼ ç»Ÿå¤§æ¨¡å‹é»‘ç›’è°ƒç”¨çš„ä¸å¯æ§æ€§**ã€‚

é€šè¿‡å¼•å…¥ **LangGraph çŠ¶æ€æœº**ï¼Œç³»ç»Ÿè·å¾—äº†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­â€œåæ€â€ä¸â€œåŠ¨æ€çº é”™â€çš„èƒ½åŠ›ï¼›è€Œå¼•å…¥ `AsyncSqliteSaver` åˆ™å®Œç¾è§£å†³äº†æ— çŠ¶æ€ API çš„ç—›ç‚¹ã€‚è¿™ä¸ä»…è®©æ™ºèƒ½ä½“èƒ½å¤Ÿç†è§£ä¸Šä¸‹æ–‡å¹¶æ¥å—ç”¨æˆ·çš„â€œæ‰“å›ä¿®æ”¹â€æŒ‡ä»¤ï¼Œæ›´å¤§å¹…æå‡äº†å¤æ‚å­¦æœ¯è°ƒç ”åœºæ™¯ä¸‹çš„é²æ£’æ€§ã€‚è¯¥é¡¹ç›®æ˜¯å¯¹ Agentic System åº•å±‚è¿è¡Œæœºåˆ¶ã€å¹¶å‘æ§åˆ¶ä¸å‰åç«¯æµå¼äº¤äº’çš„ä¸€æ¬¡æ·±åº¦å·¥ç¨‹å®è·µã€‚
